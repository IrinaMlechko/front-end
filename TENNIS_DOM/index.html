<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link href='style.css' rel='stylesheet' type='text/css'>
    <title>Теннис</title>
</head>
<body>
<input onclick='start()' type='button' value='старт!'>
<span>3:2</span>
<div id="playField">
    <div id="ball"></div>
    <div id="leftRacket"></div>
    <div id="rightRacket"></div>
</div>
</body>
<script>
    let ball = {

        posX: 325,
        posY: 225,
        speedX: 3,
        width: 50,
        height: 50,

        update() {
            const ballElem =
                document.getElementById('ball');
            ballElem.style.left = this.posX + "px";
            ballElem.style.top = this.posY + "px";
        }
    }

    let leftRacket = {
        posX: 0,
        posY: 20,
        speedY: 0,
        width: 15,
        height: 150,

        update() {
            const leftRacketElement = document.getElementById('leftRacket');
            leftRacketElement.style.top = this.posY + "px";
        }
    }

    let rightRacket = {
        posX: 685,
        posY: 330,
        speedY: 0,
        width: 15,
        height: 150,

        update() {
            const rightRacketElement = document.getElementById('rightRacket');
            rightRacketElement.style.top = this.posY + "px";
        }
    }

    const areaElement = document.getElementById('playField');
    const area = {
        width: 700,
        height: 500
    }

    function start() {
        // плавное движение - от 25 кадр/сек,
        // 1000мс/25к=40мс
        setInterval(tick, 40);
    }

    function tick() {
        ball.posX += ball.speedX;
        // вылетел ли мяч правее стены?
        if (ball.posX + ball.width > area.width - 15) {
            ball.speedX = -ball.speedX;
            ball.posX = area.width - 15 - ball.width;
        }
        // вылетел ли мяч левее стены?
        if (ball.posX < 15) {
            ball.speedX = -ball.speedX;
            ball.posX = 15;
        }
        ball.update();

        leftRacket.posY += leftRacket.speedY;
        if (leftRacket.posY < 0 && leftRacket.speedY !== 0) {
            leftRacket.posY = 0;
            leftRacket.speedY = 0;
        }

        if (leftRacket.posY + leftRacket.height > area.height) {
            leftRacket.posY = area.height - leftRacket.height;
            leftRacket.speedY = 0;

        }

        leftRacket.update();

        rightRacket.posY += rightRacket.speedY;

        if (rightRacket.posY < 0 && rightRacket.speedY !== 0) {
            rightRacket.posY = 0;
            rightRacket.speedY = 0;
        }

        if (rightRacket.posY + rightRacket.height > area.height) {
            rightRacket.posY = area.height - rightRacket.height;
            rightRacket.speedY = 0;
        }

        rightRacket.update();
    }

    document.body.addEventListener('keydown', function (event) {
        if (event.key === "Shift") {
            leftRacket.speedY = -3;
        } else if (event.key === "Control") {
            leftRacket.speedY = 3;
        } else if (event.key === "ArrowUp") {
            rightRacket.speedY = -3;
        } else if (event.key === "ArrowDown") {
            rightRacket.speedY = 3;
        }
    }, false);

    document.body.addEventListener('keyup', function (event) {
        if (event.key === "Shift") {
            leftRacket.speedY = 0;
        } else if (event.key === "Control") {
            leftRacket.speedY = 0;
        } else if (event.key === "ArrowUp") {
            rightRacket.speedY = 0;
        } else if (event.key === "ArrowDown") {
            rightRacket.speedY = 0;
        }
    }, false);

    ball.update();
</script>
</html>